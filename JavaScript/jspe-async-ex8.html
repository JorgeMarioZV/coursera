<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        // Simulates API requests with callbacks
        console.log('Step 1: Script just get started');
        // debugger;
        function getUserInfo(userID) {
            console.log('Step 2: getUserInfo function is been executed');
            // debugger;
            return new Promise((resolve_callback, reject) => {
                // Simulates an asynchronous function with undefined execution time
                setTimeout(() => {
                    const userInfo = {
                        name : 'John',
                        email : 'john@example.com'
                    };
                // Executes callback once asynchronous task is completed
                    console.log('Step 3: Callback is just going to be executed');
                    // debugger;
                    resolve_callback(userInfo);
                    console.log('Step 5: Callback has been executed');
                    for (let index = 0; index < 10; index++) {
                        console.log(`Step 5.${index}: Callback has been executed`);
                    }
                    // debugger;
                }, 1500);
            });
        }

        function getUserPosts(userID) {
            console.log('Step 4: getUserPost function is been executed');
            // debugger;
            // Simulates an asynchronous function with undefined execution time
            return new Promise((resolve_callback, reject) => {
                setTimeout(() => {
                    const userPosts = [
                        'Post1',
                        'Post2',
                        'Post3'
                    ];
                // Executes callback once asynchronous task is completed
                    console.log('Step 6: Callback is just going to be executed again');
                    // debugger;
                    resolve_callback(userPosts);
                    console.log('Step 7: Callback has been executed one more time');
                    for (let index = 0; index < 10; index++) {
                        console.log(`Step 7.${index}: Callback has been executed one more time`);
                    }
                    // debugger;
                }, 3000);  
            });
        }


        getUserInfo(1)
            .then ((userInfo) => {
                console.log('User Info: ',userInfo);
                return getUserPosts(1);
            })
            .then ((userPosts) => {
                console.log('User Posts: ',userPosts);
            })
            .catch ((error) => {
                console.error("AN error ocurred:", error);
            });

    </script>
</body>
</html>