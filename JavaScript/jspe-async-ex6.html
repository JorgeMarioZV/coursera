<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        // Simulates API requests with callbacks
        console.log('Step 1: Script just get started');
        // debugger;
        function getUserInfo(userID, callback) {
            // Simulates an asynchronous function with undefined execution time
            console.log('Step 2: getUserInfo function is been executed');
            // debugger;
            setTimeout(() => {
                const userInfo = {
                    name : 'John',
                    email : 'john@example.com'
                };
                const dataType = 'Info';
            // Executes callback once asynchronous task is completed
                console.log('Step 3: Callback is just going to be executed');
                // debugger;
                callback(userInfo, dataType);
                console.log('Step 5: Callback has been executed');
                for (let index = 0; index < 10; index++) {
                    console.log(`Step 5.${index}: Callback has been executed`);
                }
                // debugger;
            }, 1500);
        }

        function getUserPost(userID, callback) {
            // Simulates an asynchronous function with undefined execution time
            console.log('Step 4: getUserPost function is been executed');
            // debugger;
            setTimeout(() => {
                const posts = [
                    'Post1',
                    'Post2',
                    'Post3'
                ];
                const dataType = 'Posts';
            // Executes callback once asynchronous task is completed
                console.log('Step 6: Callback is just going to be executed again');
                // debugger;
                callback(posts, dataType);
                console.log('Step 7: Callback has been executed one more time');
                for (let index = 0; index < 10; index++) {
                    console.log(`Step 7.${index}: Callback has been executed one more time`);
                }
                // debugger;
            }, 3000);
        }


        // My Callback function is defined
        function mytext(userData, dataType) {
            console.log('\tStep #: Callback Execution is ongoing');
            // debugger;
            console.log(`\tUser ${dataType}:`, userData);
            console.log('\tTesting...');
        }

                
        // Callback Hell Scenario
        // Esto lo hice yo... suuuuuuper difícil pero lo logré
        getUserInfo(1, function myCallbackCaller (userInfo, dataType){
            mytext(userInfo, dataType);
            getUserPost(1,mytext);
        });
        console.log("Hola"); // Ese código va en un hilo diferente a getUserInfo. Bsicamente son concurrentes y se ejecutan en paralelo

    </script>
</body>
</html>